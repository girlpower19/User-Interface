{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Pratibha Hotwani\\\\Desktop\\\\Project\\\\User-Interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Pratibha Hotwani\\\\Desktop\\\\Project\\\\User-Interface\\\\src\\\\components\\\\Admin\\\\index.js\";\nimport React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { withFirebase } from '../Firebase';\nimport { withAuthorization, withEmailVerification } from '../Session';\nimport * as ROLES from '../../constants/roles';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\n\nconst AdminPage = () => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, React.createElement(\"h1\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, \"Admin\"), React.createElement(\"p\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, \"The Admin Page is accessible by every signed in admin user.\"), React.createElement(Switch, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, React.createElement(Route, {\n  exact: true,\n  path: ROUTES.ADMIN_DETAILS,\n  component: UserItem,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}), React.createElement(Route, {\n  exact: true,\n  path: ROUTES.ADMIN,\n  component: UserList,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n})));\n\nclass UserListBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    this.props.firebase.users().on('value', snapshot => {\n      const usersObject = snapshot.val();\n      const usersList = Object.keys(usersObject).map(key => _objectSpread({}, usersObject[key], {\n        uid: key\n      }));\n      this.setState({\n        users: usersList,\n        loading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const _this$state = this.state,\n          users = _this$state.users,\n          loading = _this$state.loading;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"List Of Users\"), loading && React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"List IsLoading ...\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, users.map(user => React.createElement(\"li\", {\n      key: user.uid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"ID:\"), \" \", user.uid), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"E-Mail:\"), \" \", user.email), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Username:\"), \" \", user.username), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"\".concat(ROUTES.ADMIN, \"/\").concat(user.uid),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Details\")))), \"); }\"));\n  }\n\n}\n\nconst UserItem = ({\n  match\n}) => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 84\n  },\n  __self: this\n}, React.createElement(\"h2\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 85\n  },\n  __self: this\n}, \"User (\", match.params.id, \")\"));\n\nconst condition = authUser => authUser && authUser.roles.includes(ROLES.ADMIN);\n\nconst UserList = withFirebase(UserListBase);\nexport default compose(withEmailVerification, withAuthorization(condition), withFirebase)(AdminPage);","map":{"version":3,"sources":["C:\\Users\\Pratibha Hotwani\\Desktop\\Project\\User-Interface\\src\\components\\Admin\\index.js"],"names":["React","Component","compose","withFirebase","withAuthorization","withEmailVerification","ROLES","Switch","Route","Link","ROUTES","AdminPage","ADMIN_DETAILS","UserItem","ADMIN","UserList","UserListBase","constructor","props","state","loading","users","componentDidMount","setState","firebase","on","snapshot","usersObject","val","usersList","Object","keys","map","key","uid","componentWillUnmount","off","render","user","email","username","match","params","id","condition","authUser","roles","includes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { compose } from 'recompose';\r\nimport { withFirebase } from '../Firebase';\r\nimport { withAuthorization,withEmailVerification } from '../Session';\r\nimport * as ROLES from '../../constants/roles';\r\nimport {Switch,Route,Link} from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nconst AdminPage=() =>(\r\n  <div>\r\n  <h1>Admin</h1>\r\n  <p>The Admin Page is accessible by every signed in admin user.</p>\r\n  <Switch>\r\n  <Route exact path={ROUTES.ADMIN_DETAILS} component={UserItem} />\r\n  <Route exact path={ROUTES.ADMIN} component={UserList} />\r\n  </Switch>\r\n  </div>\r\n  );\r\nclass UserListBase extends Component \r\n {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      users: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n\r\n    this.props.firebase.users().on('value', snapshot => {\r\n      const usersObject = snapshot.val();\r\n\r\n      const usersList = Object.keys(usersObject).map(key => ({\r\n        ...usersObject[key],\r\n        uid: key,\r\n      }));\r\n\r\n      this.setState({\r\n        users: usersList,\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.users().off();\r\n  }\r\n  render()\r\n    {\r\n        const { users, loading } = this.state;\r\n        return(\r\n            \r\n            <div><h1>List Of Users</h1>\r\n            {loading && <h1>List IsLoading ...</h1>}\r\n            <ul>\r\n          {users.map(user => (\r\n          <li key={user.uid}>\r\n          <span>\r\n          <strong>ID:</strong> {user.uid}\r\n          </span>\r\n          <span>\r\n          <strong>E-Mail:</strong> {user.email}\r\n          </span>\r\n          <span>\r\n          <strong>Username:</strong> {user.username}\r\n          </span>\r\n          <span>\r\n          <Link to={`${ROUTES.ADMIN}/${user.uid}`}>\r\n          Details\r\n          </Link>\r\n          </span>\r\n          </li>\r\n          ))}\r\n          );\r\n          }\r\n\r\n          </ul>\r\n          </div>\r\n        )         \r\n  }}\r\n  const UserItem = ({ match }) => (\r\n    <div>\r\n    <h2>User ({match.params.id})</h2>\r\n    </div>\r\n    );\r\n      \r\n    const condition = authUser =>\r\nauthUser && authUser.roles.includes(ROLES.ADMIN);\r\n  const UserList =withFirebase(UserListBase);\r\n  export default compose(\r\n    withEmailVerification,\r\n    withAuthorization(condition),\r\n    withFirebase,\r\n  )(AdminPage);"]},"metadata":{},"sourceType":"module"}