{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pratibha Hotwani\\\\Desktop\\\\github\\\\User-Interface\\\\src\\\\components\\\\Session\\\\withEmailVerification.js\";\nimport React from 'react';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst needsEmailVerification = authUser => authUser && !authUser.emailVerified && authUser.providerData.map(provider => provider.providerId).includes('password');\n\nconst withEmailVerification = Component => {\n  class WithEmailVerification extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.onSendEmailVerification = () => {\n        this.props.firebase.doSendEmailVerification().then(() => this.setState({\n          isSent: true\n        }));\n      };\n\n      this.state = {\n        isSent: false\n      };\n    }\n\n    render() {\n      return React.createElement(AuthUserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, authUser => needsEmailVerification(authUser) ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, this.state.isSent ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"E-Mail confirmation sent: Check you E-Mails (Spam folder included) for a confirmation E-Mail. Refresh this page once you confirmed your E-Mail.\") : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Verify your E-Mail: Check you E-Mails (Spam folder included) for a confirmation E-Mail or send another confirmation E-Mail.\"), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.onSendEmailVerification,\n        disabled: this.state.isSent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Send confirmation E-Mail\")) : React.createElement(Component, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })));\n    }\n\n  }\n\n  return withFirebase(WithEmailVerification);\n};\n\nexport default withEmailVerification;","map":{"version":3,"sources":["C:\\Users\\Pratibha Hotwani\\Desktop\\github\\User-Interface\\src\\components\\Session\\withEmailVerification.js"],"names":["React","AuthUserContext","withFirebase","needsEmailVerification","authUser","emailVerified","providerData","map","provider","providerId","includes","withEmailVerification","Component","WithEmailVerification","constructor","props","onSendEmailVerification","firebase","doSendEmailVerification","then","setState","isSent","state","render"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,eAAP,MAA4B,WAA5B;AACA,SAASC,YAAT,QAA6B,aAA7B;;AAEA,MAAMC,sBAAsB,GAAGC,QAAQ,IACrCA,QAAQ,IACR,CAACA,QAAQ,CAACC,aADV,IAEAD,QAAQ,CAACE,YAAT,CACGC,GADH,CACOC,QAAQ,IAAIA,QAAQ,CAACC,UAD5B,EAEGC,QAFH,CAEY,UAFZ,CAHF;;AAOA,MAAMC,qBAAqB,GAAGC,SAAS,IAAI;AACzC,QAAMC,qBAAN,SAAoCb,KAAK,CAACY,SAA1C,CAAoD;AAClDE,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;;AADiB,WAMnBC,uBANmB,GAMO,MAAM;AAC9B,aAAKD,KAAL,CAAWE,QAAX,CACGC,uBADH,GAEGC,IAFH,CAEQ,MAAM,KAAKC,QAAL,CAAc;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAd,CAFd;AAGD,OAVkB;;AAGjB,WAAKC,KAAL,GAAa;AAAED,QAAAA,MAAM,EAAE;AAAV,OAAb;AACD;;AAQDE,IAAAA,MAAM,GAAG;AACP,aACE,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGnB,QAAQ,IACPD,sBAAsB,CAACC,QAAD,CAAtB,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKkB,KAAL,CAAWD,MAAX,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2JADD,GAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uIARJ,EAeE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,OAAO,EAAE,KAAKL,uBAFhB;AAGE,QAAA,QAAQ,EAAE,KAAKM,KAAL,CAAWD,MAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAfF,CADF,GAyBE,oBAAC,SAAD,oBAAe,KAAKN,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA3BN,CADF;AAiCD;;AA/CiD;;AAkDpD,SAAOb,YAAY,CAACW,qBAAD,CAAnB;AACD,CApDD;;AAsDA,eAAeF,qBAAf","sourcesContent":["    \r\nimport React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst needsEmailVerification = authUser =>\r\n  authUser &&\r\n  !authUser.emailVerified &&\r\n  authUser.providerData\r\n    .map(provider => provider.providerId)\r\n    .includes('password');\r\n\r\nconst withEmailVerification = Component => {\r\n  class WithEmailVerification extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = { isSent: false };\r\n    }\r\n\r\n    onSendEmailVerification = () => {\r\n      this.props.firebase\r\n        .doSendEmailVerification()\r\n        .then(() => this.setState({ isSent: true }));\r\n    };\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {authUser =>\r\n            needsEmailVerification(authUser) ? (\r\n              <div>\r\n                {this.state.isSent ? (\r\n                  <p>\r\n                    E-Mail confirmation sent: Check you E-Mails (Spam\r\n                    folder included) for a confirmation E-Mail.\r\n                    Refresh this page once you confirmed your E-Mail.\r\n                  </p>\r\n                ) : (\r\n                  <p>\r\n                    Verify your E-Mail: Check you E-Mails (Spam folder\r\n                    included) for a confirmation E-Mail or send\r\n                    another confirmation E-Mail.\r\n                  </p>\r\n                )}\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={this.onSendEmailVerification}\r\n                  disabled={this.state.isSent}\r\n                >\r\n                  Send confirmation E-Mail\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <Component {...this.props} />\r\n            )\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithEmailVerification);\r\n};\r\n\r\nexport default withEmailVerification;"]},"metadata":{},"sourceType":"module"}